<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Интерактивная диаграмма</title>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; }
    .wrap { display: flex; height: 100vh; }

    /* LEFT */
    /* LEFT */
.left{
  display:flex;
  flex-direction:column;
  flex: 1 1 auto;        /* занимает всё оставшееся */
  background:#f6f6f6;
  border-right:1px solid #ddd;
  min-width: 0;          /* КРИТИЧНО: чтобы правая панель не схлопывалась */
}

    .toolbar {
      display:flex; align-items:center; gap:10px;
      padding:10px; background:#fff; border-bottom:1px solid #eee;
    }
    .toolbar button {
      padding:6px 10px; border:1px solid #ddd; border-radius:10px; background:#fff; cursor:pointer;
    }
    .toolbar button:hover { background:#f3f3f3; }
    .toolbar .label { font-size:12px; color:#666; min-width:70px; }

    /* viewport with scrollbars */
    #viewport {
      flex:1;
      overflow: auto;         /* <-- скроллы */
      position: relative;
      cursor: grab;
    }
    #viewport.dragging { cursor: grabbing; }

    /* canvas world */
    #canvas { position: relative; display:inline-block; }
    #diagram { display:block; height:auto; }

    /* hotspots */
    .hotspot {
      position: absolute;
      border: 1px solid rgba(0,0,0,0.25);
      background: rgba(255, 230, 0, 0.12);
      cursor: pointer;
      box-sizing: border-box;
    }
    .hotspot:hover {
      border-color: rgba(0,0,0,0.55);
      background: rgba(255, 230, 0, 0.18);
    }

    /* RIGHT */
    .right{
  width: 520px;         /* нормальная ширина */
  min-width: 520px;     /* НЕ сжимать */
  flex: 0 0 520px;      /* фиксируем, чтобы не ужималась */
  padding: 16px;
  overflow: auto;
  background: #fff;
}

  </style>
</head>
<body>
  <div class="wrap">
    <div class="left">
      <div class="toolbar">
        <button id="zoomOut">−</button>
        <input id="zoomRange" type="range" min="60" max="300" value="120" />
        <button id="zoomIn">+</button>
        <button id="zoomFit">Fit</button>
        <div class="label" id="zoomLabel">120%</div>
      </div>

      <div id="viewport">
        <div id="canvas">
          <img id="diagram" src="diagram.png" alt="Диаграмма"/>
        </div>
      </div>
    </div>

    <div class="right" id="panel">
      <!-- панель полностью наполняется app.js -->
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
